{% extends '@ezdesign/pagelayout.html.twig' %}

{% block content %}
    <section class="bundles-list">
        <div class="bundles-list-header">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="description">{{ ez_render_field(content, 'description') }}</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bundles-list-search">
            <div class="container">
                <div class="form-row align-items-center">
                    <div class="col-12">
                        {{ render_esi(controller('app.controller.bundle:renderSearchBundleForm', {"searchText": searchText})) }}
                    </div>
                </div>
            </div>
        </div>
        <div class="bundles-list-content">
            <div class="container">
                <div class="row">
                    <div class="col-12 bundles-list-container">
                        <div class="row align-items-center">
                            <div class="col-xs-12 col-md-9 bundles-list-keyword">
                                {% if search is defined and search is not empty %}
                                    <h2>Search / Keyword: {{ search }}</h2>
                                {% else %}
                                    <h2>All Bundles</h2>
                                {% endif %}
                            </div>
                            <div class="col-xs-12 col-md-3 sort-container">
                                {% set sortingOrder = order is defined ? order : 'default' %}
                                {{ render_esi(controller('app.controller.bundle:renderSortOrderBundleForm', {"order": sortingOrder})) }}
                            </div>
                        </div>
                    </div>
                </div>

                {% include '@ezdesign/parts/bundle_list/list.html.twig' with {
                    'items': items,
                    'viewType': 'line',
                    'extraParams': {
                        'page': 1
                    }
                } only %}
                <div class="row">
                    <div class="button-load-more mx-auto pagerfanta">
                        {{ pagerfanta(pager, 'bundles_list') }}
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
